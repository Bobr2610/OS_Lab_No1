## Цель работы
Целью является приобретение практических навыков в:
* Управление потоками в ОС
* Обеспечение синхронизации между потоками
## Задание
Составить программу на языке Си, обрабатывающую данные в многопоточном режиме. При
обработки использовать стандартные средства создания потоков операционной системы
(Windows/Unix). Ограничение максимального количества потоков, работающих в один момент
времени, должно быть задано ключом запуска вашей программы.
Так же необходимо уметь продемонстрировать количество потоков, используемое вашей
программой с помощью стандартных средств операционной системы.
В отчете привести исследование зависимости ускорения и эффективности алгоритма от входных
данных и количества потоков. Получившиеся результаты необходимо объяснить.

**Вариант 5:**

Отсортировать массив целых чисел при помощи четно-нечетной сортировки Бетчера

## Сборка

```bash
mkdir -p build
cd build
cmake ..
make
```

Или используя CMake напрямую:
```bash
cmake -B build -S .
cmake --build build
```

## Использование

```bash
./build/batcher_sort <max_threads> <array_size> [elements...]
```

Параметры:
- `max_threads` - максимальное количество потоков (1 для последовательной сортировки)
- `array_size` - размер массива (максимум 10000)
- `elements` - опциональный список целых чисел. Если не указан, массив заполняется случайными значениями

Примеры:

```bash
# Сортировка массива из 10 элементов с использованием 4 потоков
./build/batcher_sort 4 10 5 2 8 1 9 3 7 4 6 0

# Сортировка массива из 20 элементов с использованием 8 потоков (случайные значения)
./build/batcher_sort 8 20

# Последовательная сортировка (1 поток)
./build/batcher_sort 1 15 9 5 2 8 1 4 7 3 6 0 10 12 11 13 14
```

## Демонстрация количества потоков

В Linux можно использовать следующие команды для мониторинга потоков:

```bash
# Показать все потоки процесса
ps -T -p $(pgrep batcher_sort)

# Или во время выполнения в другом терминале
watch -n 0.5 "ps -T -p \$(pgrep batcher_sort) | wc -l"

# Использование htop/top для визуального мониторинга
htop -p $(pgrep batcher_sort)
```

## Требования

- C11 компилятор с поддержкой `threads.h` (gcc 4.9+, clang 3.3+)
- CMake 3.16+
- Linux (Ubuntu 22.04 или совместимый)